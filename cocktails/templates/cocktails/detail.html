<!DOCTYPE html>
<html lang="en">

{% extends "cocktails/base.html" %}
{% block title %}{{ cocktail.name }}{% endblock %}

{% block body %}
    <h1>{{ cocktail }} </h1>
    <h2>by
        {% if user %}
            <a href="{% url "cocktails:profile" cocktail.creator.id %}">
                {{ cocktail.creator }}
            </a>
        {% else %}
            <i>Unknown</i>
        {% endif %}
    </h2>
    <div>
        rated: {{ cocktail.taste_rating }}
    </div>

    {% if user == cocktail.creator or user.is_superuser %}
        <span><a href="{% url "cocktails:cocktail-update" cocktail.id %}">edit</a></span>
        <span><a href="{% url "cocktails:cocktail-delete" cocktail.id %}">delete</a></span>
    {% endif %}
    <img alt="A picture of {{ cocktail.name }} " height="200px"
         src="{{ cocktail.picture.url }}">

    {% if error_message %}
        <h1>{{ error_message }}</h1>
    {% endif %}
    {% if ingredients %}
        <form method="post" action={% url "cocktails:shopping-list" %}>
            {% csrf_token %}
            <input type="hidden" name="cocktail" value="{{ cocktail.id }}">
            <ul class="ingredient-list">
                {% for i in ingredients %}
                    <li>
                        <label for="{{ i }}">
                            {{ i.name }}: {{ i.amount }} {{ i.unit }}

                            {% if i.is_alcohol %}
                                <span>(alc.)</span>
                            {% endif %}
                        </label>
                        <input name="{{ i.id }}" id="{{ i }}" type="checkbox"
                               {% if i.on_shopping_list %}checked{% endif %}>
                    </li>
                    <br>
                {% endfor %}
            </ul>
            <button type="submit">Put on your shopping list</button>
        </form>
    {% else %}
        <h2>
            This cocktail consists of nothing but mere air and love!
        </h2>
    {% endif %}
{% endblock %}

</html>
